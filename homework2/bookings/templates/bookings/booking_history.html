{% extends "bookings/base.html" %}
{% block title %}Booking History{% endblock %}

{% block content %}
<h2 class="mb-3">Booking History</h2>

<form method="get" class="row g-2 mb-3">
  <div class="col-auto">
    <input type="text" name="user" value="{{ user }}" class="form-control" placeholder="Filter by user (optional)">
  </div>
  <div class="col-auto">
    <button class="btn btn-outline-secondary" type="submit">Filter</button>
  </div>
</form>

<table class="table table-sm">
  <thead><tr><th>User</th><th>Movie</th><th>Seat</th><th>When</th></tr></thead>
  <tbody>
  {% for b in bookings %}
    <tr>
      <td>{{ b.user }}</td>
      <td>{{ b.movie.title }}</td>
      <td>{{ b.seat.seat_number }}</td>
      <td>{{ b.booking_date }}</td>
    </tr>
  {% empty %}
    <tr><td colspan="4">No bookings.</td></tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}
